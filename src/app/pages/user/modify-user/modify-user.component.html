<app-auth [imageBackground]="'assets/images/bugatti_optimized.jpg'">
  <div class="mod-user">
    @if (loading === true) {
      <div class="mod-user__spinner-container mt-20">
        <app-loading class="mod-user__spinner" [color]="'accent'"></app-loading>
      </div>
    } @else {
      @if (this.success === false) {
        <form
          class="mod-user__form"
          (ngSubmit)="onSubmit()"
          [formGroup]="modifyUser"
          >
          <div class="mod-user__form-title mb-8">
            <h3>Modificar usuario</h3>
          </div>
          <div class="mod-user__form-field mb-4">
            <app-input
              [label]="'Email: '"
              [type]="'email'"
              [placeholder]="'pat@example.com'"
              [control]="emailControl"
            ></app-input>
          </div>
          <div class="mod-user__form-field mb-12">
            <app-input
              [label]="'Usuario:'"
              [type]="'text'"
              [placeholder]="'Ingrese su nuevo usuario'"
              [control]="usernameControl"
            ></app-input>
          </div>
          <div class="mod-user__form-actions mb-4">
            <app-btn
              [text]="'Modificar Datos'"
              [color]="'primary'"
              [variant]="'raised'"
              [buttonType]="'submit'"
              [isDisabled]="modifyUser.invalid || modifyUser.pending"
            ></app-btn>
          </div>
        </form>
      }
    }


    @if (this.success === true && this.loading === false) {
      <div class="mod-user__success">
        <app-success [text]="'SesiÃ³n iniciada con exito!'"></app-success>
      </div>
    }

    @if (this.error === true && this.success == false && this.loading === false) {
      <div
        class="mod-user__error"
        >
        <app-message-error [messageError]="'Hubo un problema.'"></app-message-error>
      </div>
    }
  </div>
</app-auth>
